:root{ --bg:#0b1020; --fg:#eaf2ff; --muted:#97a9cf; --card:#0f1630; --border:#2a375f; --accent:#79a8ff; --pv:#7ec8ff; --fi:#5ad17d; --bi:#ffd166; --bo:#ff7b7b; --cons:#a088ff; --imp:#ffa8e1; }
*{ box-sizing:border-box }
body{ margin:0; font:14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif; background:var(--bg); color:var(--fg); }
.wrap{ max-width:1100px; margin:32px auto; padding:0 16px; }
h1{ font-size:22px; margin:0 0 16px }
h2{ font-size:18px; margin:0 }
.card{ background:var(--card); border:1px solid var(--border); border-radius:16px; padding:16px; margin-bottom:16px; }
.card-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px }
.legend-dots{ display:flex; gap:12px; color:#c9d7ff; font-size:12px }
.legend-dots .dot{ display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:6px; vertical-align:middle }
.dot-pv{ background:var(--pv) } .dot-fi{ background:var(--fi) } .dot-bi{ background:var(--bi) } .dot-bo{ background:var(--bo) } .dot-cons{ background:var(--cons) } .dot-imp{ background:var(--imp) }

.flow{ width:100%; height:auto; display:block; }
.links .link line{ stroke:#4d5b87; stroke-width:5; stroke-linecap:round; opacity:.85 }
.links .dot{ fill:var(--accent); }
.node circle{ fill:#14214a; stroke:#2a375f; stroke-width:2; }
.node text{ text-anchor:middle; font-weight:600; }
.node .title{ fill:#eaf2ff; font-size:14px; letter-spacing:.4px; }
.node .value{ fill:#d7e5ff; font-size:13px; }

.today-grid{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:12px; margin-top:12px; }
.mini-card{ background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0)); border:1px solid var(--border); border-radius:14px; padding:12px; }
.mini-card.span-2{ grid-column: span 2; }
.mini-head{ display:flex; align-items:center; justify-content:space-between; color:#cfe1ff; font-weight:600; margin-bottom:8px; }
.badge{ background:#18234b; border:1px solid #2a375f; padding:2px 8px; border-radius:999px; font-size:12px; }
.battery{ display:flex; align-items:center; justify-content:center; margin:6px 0 10px }
.battery-svg{ width:100%; max-width:260px; }
.b-body{ fill:#0e1737; stroke:#2a375f; stroke-width:2 }
.b-cap{ fill:#2a375f }
.b-fill{ fill:#5ad17d }
.b-tick{ fill:#203063 }
.mini-rows{ display:grid; grid-template-columns: 1fr auto; gap:6px; color:#eaf2ff; font-size:14px }
.mini-rows .muted{ color:var(--muted) }
.big-val{ font-size:26px; font-weight:700; display:flex; align-items:baseline; gap:6px; color:#eaf2ff; }

.table-wrap{ overflow:auto; border:1px solid var(--border); border-radius:12px; }
table.fancy{ width:100%; border-collapse:separate; border-spacing:0; }
table.fancy thead th{ position:sticky; top:0; background:#12204a; color:#eaf2ff; font-weight:700; text-align:left; padding:10px; border-bottom:1px solid var(--border); z-index:1 }
table.fancy tbody td{ padding:10px; border-bottom:1px solid var(--border); text-align:left; }
table.fancy tbody tr:nth-child(odd){ background:rgba(255,255,255,.02) }
table.fancy tbody td.pv{ color:var(--pv) } table.fancy tbody td.fi{ color:var(--fi) } table.fancy tbody td.bi{ color:var(--bi) } table.fancy tbody td.bo{ color:var(--bo) }
table.fancy tbody td.cons{ color:var(--cons) } table.fancy tbody td.imp{ color:var(--imp) }

@media (max-width: 980px){
  .today-grid{ grid-template-columns: 1fr 1fr; }
  .mini-card.span-2{ grid-column: span 2; }
}
@media (max-width: 640px){
  .today-grid{ grid-template-columns: 1fr; }
  .mini-card.span-2{ grid-column: span 1; }
}
